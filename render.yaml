services:
  - type: web
    name: signcast-backend
    env: python
    region: oregon
    plan: starter
    buildCommand: "cd apps/backend && pip install -r requirements.txt"
    startCommand: "cd apps/backend && python run_backend.py"
    healthCheckPath: /docs
    envVars:
      - key: HOST
        value: "0.0.0.0"
      - key: PORT
        value: "10000"
      - key: DEBUG
        value: "false"
      - key: LOG_LEVEL
        value: "INFO"
      - key: CORS_ORIGINS
        value: '["https://your-frontend-domain.vercel.app", "*"]'
      - key: CORS_ALLOW_CREDENTIALS
        value: "true"
      - key: GROQ_API_KEY
        fromSecret: GROQ_API_KEY
      - key: GROQ_API_URL
        fromSecret: GROQ_API_URL
      - key: POSE_API_URL
        fromSecret: POSE_API_URL
      - key: WHISPER_MODEL
        value: "base"
      - key: WHISPER_DEVICE
        value: "cpu"
